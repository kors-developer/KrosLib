--[[
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                   KROSLIB V2.5 COMPLETE                   â•‘
    â•‘              Premium UI Library for Roblox                â•‘
    â•‘                    Created by: Kors                       â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]]

local KrosLib = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- Configuration
KrosLib.Settings = {
    DefaultIcon = 7733964719,
    AvatarVisible = true,
    ReopenKey = Enum.KeyCode.K,
    NotificationDuration = 3,
    NotificationPosition = UDim2.new(1, -20, 1, -20),
    AnimationSpeed = 0.3,
    Colors = {
        Primary = Color3.fromRGB(45, 45, 55),
        Secondary = Color3.fromRGB(35, 35, 45),
        Accent = Color3.fromRGB(100, 100, 255),
        Text = Color3.fromRGB(255, 255, 255),
        TextDark = Color3.fromRGB(180, 180, 180),
        Success = Color3.fromRGB(40, 255, 40),
        Error = Color3.fromRGB(255, 40, 40),
        Warning = Color3.fromRGB(255, 200, 40),
        Info = Color3.fromRGB(40, 150, 255)
    },
    NotificationIcons = {
        Success = "âœ…",
        Error = "âŒ",
        Warning = "âš ï¸",
        Info = "â„¹ï¸",
        Default = "ðŸ“¢"
    },
    Sounds = {
        Click = 1053768910,
        Hover = 10066936758,
        Open = 550209561,
        Close = 550209561,
        ToggleOn = 12221967,
        ToggleOff = 12221976
    },
    NotificationSounds = {
        Success = 5274478755,
        Error = 5332472758,
        Warning = 5332680175,
        Info = 5332874858,
        Default = 6026984224
    }
}

-- Utility Functions
local function CreateTween(object, properties, duration, easingStyle, easingDirection)
    local tween = TweenService:Create(
        object,
        TweenInfo.new(
            duration or KrosLib.Settings.AnimationSpeed,
            easingStyle or Enum.EasingStyle.Quart,
            easingDirection or Enum.EasingDirection.Out
        ),
        properties
    )
    tween:Play()
    return tween
end

local function AddUICorner(parent, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius or 8)
    corner.Parent = parent
    return corner
end

local function AddUIStroke(parent, color, thickness, transparency)
    local stroke = Instance.new("UIStroke")
    stroke.Color = color or Color3.fromRGB(255, 255, 255)
    stroke.Transparency = transparency or 0.9
    stroke.Thickness = thickness or 1
    stroke.Parent = parent
    return stroke
end

local function AddGlassEffect(frame)
    -- Glass background
    frame.BackgroundTransparency = 0.15
    frame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
    
    -- Add corner
    AddUICorner(frame, 10)
    
    -- Add stroke for glass border effect
    local stroke = AddUIStroke(frame, Color3.fromRGB(255, 255, 255), 1, 0.8)
    
    return frame
end

local function PlaySound(soundId)
    if soundId then
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxassetid://" .. tostring(soundId)
        sound.Volume = 0.5
        sound.Parent = CoreGui
        sound:Play()
        sound.Ended:Connect(function()
            sound:Destroy()
        end)
    end
end

-- Notification System
local NotificationHolder = nil
local ActiveNotifications = {}

function KrosLib:CreateNotificationHolder()
    if NotificationHolder then return end
    
    NotificationHolder = Instance.new("ScreenGui")
    NotificationHolder.Name = "KrosLibNotifications"
    NotificationHolder.ResetOnSpawn = false
    NotificationHolder.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    NotificationHolder.Parent = CoreGui or LocalPlayer.PlayerGui
    
    local Container = Instance.new("Frame")
    Container.Name = "NotificationContainer"
    Container.Size = UDim2.new(0, 320, 1, -40)
    Container.Position = UDim2.new(1, -340, 0, 20)
    Container.BackgroundTransparency = 1
    Container.Parent = NotificationHolder
    
    local ListLayout = Instance.new("UIListLayout")
    ListLayout.Padding = UDim.new(0, 10)
    ListLayout.VerticalAlignment = Enum.VerticalAlignment.Bottom
    ListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
    ListLayout.Parent = Container
end

function KrosLib:Notify(options)
    self:CreateNotificationHolder()
    
    local Title = options.Title or "Notification"
    local Content = options.Content or ""
    local Duration = options.Duration or KrosLib.Settings.NotificationDuration
    local Type = options.Type or "Default"
    
    -- Play notification sound
    if KrosLib.Settings.NotificationSounds[Type] then
        PlaySound(KrosLib.Settings.NotificationSounds[Type])
    end
    
    -- Create notification
    local Notification = Instance.new("Frame")
    Notification.Size = UDim2.new(0, 300, 0, 80)
    Notification.Position = UDim2.new(1, 320, 0, 0)
    Notification.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
    Notification.BackgroundTransparency = 0.1
    Notification.ClipsDescendants = true
    Notification.Parent = NotificationHolder:FindFirstChild("NotificationContainer")
    
    -- Glass effect
    AddGlassEffect(Notification)
    
    -- Add colored accent bar
    local AccentBar = Instance.new("Frame")
    AccentBar.Size = UDim2.new(0, 4, 1, 0)
    AccentBar.Position = UDim2.new(0, 0, 0, 0)
    AccentBar.BorderSizePixel = 0
    AccentBar.Parent = Notification
    
    -- Set color based on type
    if Type == "Success" then
        AccentBar.BackgroundColor3 = KrosLib.Settings.Colors.Success
    elseif Type == "Error" then
        AccentBar.BackgroundColor3 = KrosLib.Settings.Colors.Error
    elseif Type == "Warning" then
        AccentBar.BackgroundColor3 = KrosLib.Settings.Colors.Warning
    elseif Type == "Info" then
        AccentBar.BackgroundColor3 = KrosLib.Settings.Colors.Info
    else
        AccentBar.BackgroundColor3 = KrosLib.Settings.Colors.Accent
    end
    
    -- Icon
    local Icon = Instance.new("TextLabel")
    Icon.Size = UDim2.new(0, 40, 0, 40)
    Icon.Position = UDim2.new(0, 15, 0.5, -20)
    Icon.BackgroundTransparency = 1
    Icon.Text = KrosLib.Settings.NotificationIcons[Type] or KrosLib.Settings.NotificationIcons.Default
    Icon.TextColor3 = KrosLib.Settings.Colors.Text
    Icon.TextScaled = true
    Icon.Font = Enum.Font.Gotham
    Icon.Parent = Notification
    
    -- Title
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Size = UDim2.new(0, 220, 0, 20)
    TitleLabel.Position = UDim2.new(0, 60, 0, 10)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Text = Title
    TitleLabel.TextColor3 = KrosLib.Settings.Colors.Text
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
    TitleLabel.TextScaled = false
    TitleLabel.TextSize = 14
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.Parent = Notification
    
    -- Content
    local ContentLabel = Instance.new("TextLabel")
    ContentLabel.Size = UDim2.new(0, 220, 0, 35)
    ContentLabel.Position = UDim2.new(0, 60, 0, 30)
    ContentLabel.BackgroundTransparency = 1
    ContentLabel.Text = Content
    ContentLabel.TextColor3 = KrosLib.Settings.Colors.TextDark
    ContentLabel.TextXAlignment = Enum.TextXAlignment.Left
    ContentLabel.TextYAlignment = Enum.TextYAlignment.Top
    ContentLabel.TextScaled = false
    ContentLabel.TextSize = 12
    ContentLabel.TextWrapped = true
    ContentLabel.Font = Enum.Font.Gotham
    ContentLabel.Parent = Notification
    
    -- Close button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 20, 0, 20)
    CloseButton.Position = UDim2.new(1, -25, 0, 5)
    CloseButton.BackgroundTransparency = 1
    CloseButton.Text = "Ã—"
    CloseButton.TextColor3 = KrosLib.Settings.Colors.TextDark
    CloseButton.TextScaled = false
    CloseButton.TextSize = 20
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Parent = Notification
    
    -- Progress bar
    local ProgressBar = Instance.new("Frame")
    ProgressBar.Size = UDim2.new(1, 0, 0, 2)
    ProgressBar.Position = UDim2.new(0, 0, 1, -2)
    ProgressBar.BackgroundColor3 = AccentBar.BackgroundColor3
    ProgressBar.BorderSizePixel = 0
    ProgressBar.Parent = Notification
    
    -- Animate in
    CreateTween(Notification, {Position = UDim2.new(0, 0, 0, 0)}, 0.5, Enum.EasingStyle.Back)
    
    -- Auto dismiss
    local dismissed = false
    local function dismiss()
        if dismissed then return end
        dismissed = true
        
        CreateTween(Notification, {Position = UDim2.new(1, 320, 0, 0)}, 0.3)
        task.wait(0.3)
        Notification:Destroy()
    end
    
    -- Close button click
    CloseButton.MouseButton1Click:Connect(dismiss)
    
    -- Swipe to dismiss
    local dragging = false
    local startX = 0
    
    Notification.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            startX = input.Position.X
        end
    end)
    
    Notification.InputEnded:Connect(function(input)
        if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) and dragging then
            dragging = false
            local endX = input.Position.X
            if endX - startX > 50 then -- Swipe right
                dismiss()
            end
        end
    end)
    
    -- Progress animation
    CreateTween(ProgressBar, {Size = UDim2.new(0, 0, 0, 2)}, Duration, Enum.EasingStyle.Linear)
    
    -- Auto dismiss after duration
    task.wait(Duration)
    dismiss()
end

-- Window System
function KrosLib:CreateWindow(options)
    local Window = {}
    Window.Tabs = {}
    Window.CurrentTab = nil
    
    -- Create main GUI
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "KrosLib"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.Parent = CoreGui or LocalPlayer.PlayerGui
    
    -- Main frame
    local Main = Instance.new("Frame")
    Main.Name = "Main"
    Main.Size = options.Size or UDim2.new(0, 650, 0, 520)
    Main.Position = UDim2.new(0.5, -325, 0.5, -260)
    Main.BackgroundColor3 = KrosLib.Settings.Colors.Primary
    Main.ClipsDescendants = true
    Main.Parent = ScreenGui
    
    -- Apply glass effect
    AddGlassEffect(Main)
    
    -- Make draggable
    local dragging, dragInput, dragStart, startPos
    
    Main.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = Main.Position
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            Main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    -- Top bar
    local TopBar = Instance.new("Frame")
    TopBar.Name = "TopBar"
    TopBar.Size = UDim2.new(1, 0, 0, 40)
    TopBar.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
    TopBar.BackgroundTransparency = 0.5
    TopBar.Parent = Main
    AddUICorner(TopBar, 10)
    
    -- Title
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(0, 200, 1, 0)
    Title.Position = UDim2.new(0, 50, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = options.Name or "KrosLib"
    Title.TextColor3 = KrosLib.Settings.Colors.Text
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 16
    Title.Parent = TopBar
    
    -- Subtitle
    if options.Subtitle then
        local Subtitle = Instance.new("TextLabel")
        Subtitle.Size = UDim2.new(0, 200, 0, 12)
        Subtitle.Position = UDim2.new(0, 250, 0.5, -6)
        Subtitle.BackgroundTransparency = 1
        Subtitle.Text = options.Subtitle
        Subtitle.TextColor3 = KrosLib.Settings.Colors.TextDark
        Subtitle.TextXAlignment = Enum.TextXAlignment.Left
        Subtitle.Font = Enum.Font.Gotham
        Subtitle.TextSize = 11
        Subtitle.Parent = TopBar
    end
    
    -- Icon
    if options.Icon then
        local Icon = Instance.new("ImageLabel")
        Icon.Size = UDim2.new(0, 25, 0, 25)
        Icon.Position = UDim2.new(0, 12, 0.5, -12)
        Icon.BackgroundTransparency = 1
        Icon.Image = options.Icon
        Icon.Parent = TopBar
    end
    
    -- Close button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Position = UDim2.new(1, -35, 0.5, -15)
    CloseButton.BackgroundTransparency = 1
    CloseButton.Text = "Ã—"
    CloseButton.TextColor3 = KrosLib.Settings.Colors.Text
    CloseButton.TextSize = 24
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Parent = TopBar
    
    CloseButton.MouseButton1Click:Connect(function()
        PlaySound(KrosLib.Settings.Sounds.Close)
        CreateTween(Main, {Size = UDim2.new(0, 0, 0, 0), BackgroundTransparency = 1}, 0.3)
        task.wait(0.3)
        ScreenGui:Destroy()
    end)
    
    CloseButton.MouseEnter:Connect(function()
        CreateTween(CloseButton, {TextColor3 = KrosLib.Settings.Colors.Error}, 0.1)
    end)
    
    CloseButton.MouseLeave:Connect(function()
        CreateTween(CloseButton, {TextColor3 = KrosLib.Settings.Colors.Text}, 0.1)
    end)
    
    -- Minimize button
    local MinimizeButton = Instance.new("TextButton")
    MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
    MinimizeButton.Position = UDim2.new(1, -70, 0.5, -15)
    MinimizeButton.BackgroundTransparency = 1
    MinimizeButton.Text = "â€”"
    MinimizeButton.TextColor3 = KrosLib.Settings.Colors.Text
    MinimizeButton.TextSize = 20
    MinimizeButton.Font = Enum.Font.GothamBold
    MinimizeButton.Parent = TopBar
    
    local minimized = false
    MinimizeButton.MouseButton1Click:Connect(function()
        PlaySound(KrosLib.Settings.Sounds.Click)
        minimized = not minimized
        if minimized then
            CreateTween(Main, {Size = UDim2.new(0, 650, 0, 40)}, 0.3)
        else
            CreateTween(Main, {Size = options.Size or UDim2.new(0, 650, 0, 520)}, 0.3)
        end
    end)
    
    -- Tab holder
    local TabHolder = Instance.new("Frame")
    TabHolder.Name = "TabHolder"
    TabHolder.Size = UDim2.new(0, 140, 1, -50)
    TabHolder.Position = UDim2.new(0, 5, 0, 45)
    TabHolder.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
    TabHolder.BackgroundTransparency = 0.7
    TabHolder.Parent = Main
    AddGlassEffect(TabHolder)
    
    -- Tab list with scrolling
    local TabList = Instance.new("ScrollingFrame")
    TabList.Size = UDim2.new(1, -10, 1, -10)
    TabList.Position = UDim2.new(0, 5, 0, 5)
    TabList.BackgroundTransparency = 1
    TabList.ScrollBarThickness = 3
    TabList.ScrollBarImageColor3 = KrosLib.Settings.Colors.Accent
    TabList.ScrollBarImageTransparency = 0.5
    TabList.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabList.AutomaticCanvasSize = Enum.AutomaticSize.Y
    TabList.Parent = TabHolder
    
    local TabListLayout = Instance.new("UIListLayout")
    TabListLayout.Padding = UDim.new(0, 5)
    TabListLayout.Parent = TabList
    
    -- Content holder
    local ContentHolder = Instance.new("Frame")
    ContentHolder.Name = "ContentHolder"
    ContentHolder.Size = UDim2.new(1, -160, 1, -50)
    ContentHolder.Position = UDim2.new(0, 150, 0, 45)
    ContentHolder.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
    ContentHolder.BackgroundTransparency = 0.7
    ContentHolder.ClipsDescendants = true
    ContentHolder.Parent = Main
    AddGlassEffect(ContentHolder)
    
    -- Toggle UI visibility
    local UIVisible = true
    UserInputService.InputBegan:Connect(function(input, processed)
        if not processed and input.KeyCode == KrosLib.Settings.ReopenKey then
            UIVisible = not UIVisible
            Main.Visible = UIVisible
            
            if not UIVisible then
                KrosLib:Notify({
                    Title = "UI Hidden",
                    Content = "Press " .. KrosLib.Settings.ReopenKey.Name .. " to show UI",
                    Duration = 2,
                    Type = "Info"
                })
            end
        end
    end)
    
    -- Window methods
    function Window:CreateTab(name, icon)
        local Tab = {}
        Tab.Name = name
        Tab.Icon = icon
        Tab.Elements = {}
        
        -- Tab button
        local TabButton = Instance.new("TextButton")
        TabButton.Name = name
        TabButton.Size = UDim2.new(1, 0, 0, 35)
        TabButton.BackgroundColor3 = KrosLib.Settings.Colors.Primary
        TabButton.BackgroundTransparency = 0.5
        TabButton.Text = (icon or "") .. " " .. name
        TabButton.TextColor3 = KrosLib.Settings.Colors.TextDark
        TabButton.Font = Enum.Font.Gotham
        TabButton.TextSize = 13
        TabButton.Parent = TabList
        AddUICorner(TabButton, 6)
        
        -- Tab content
        local TabContent = Instance.new("ScrollingFrame")
        TabContent.Name = name .. "Content"
        TabContent.Size = UDim2.new(1, -10, 1, -10)
        TabContent.Position = UDim2.new(0, 5, 0, 5)
        TabContent.BackgroundTransparency = 1
        TabContent.ScrollBarThickness = 3
        TabContent.ScrollBarImageColor3 = KrosLib.Settings.Colors.Accent
        TabContent.ScrollBarImageTransparency = 0.5
        TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
        TabContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
        TabContent.Visible = false
        TabContent.Parent = ContentHolder
        
        local ContentLayout = Instance.new("UIListLayout")
        ContentLayout.Padding = UDim.new(0, 8)
        ContentLayout.Parent = TabContent
        
        local ContentPadding = Instance.new("UIPadding")
        ContentPadding.PaddingRight = UDim.new(0, 5)
        ContentPadding.Parent = TabContent
        
        -- Tab selection with animation
        TabButton.MouseButton1Click:Connect(function()
            PlaySound(KrosLib.Settings.Sounds.Click)
            
            -- Deselect all tabs
            for _, tab in pairs(Window.Tabs) do
                CreateTween(tab.Button, {
                    BackgroundTransparency = 0.5,
                    TextColor3 = KrosLib.Settings.Colors.TextDark
                }, 0.2)
                
                -- Fade out animation
                if tab.Content.Visible and tab.Content ~= TabContent then
                    CreateTween(tab.Content, {BackgroundTransparency = 1}, 0.15)
                    task.wait(0.15)
                    tab.Content.Visible = false
                end
            end
            
            -- Select this tab
            CreateTween(TabButton, {
                BackgroundTransparency = 0.2,
                TextColor3 = KrosLib.Settings.Colors.Text
            }, 0.2)
            
            -- Fade in animation
            TabContent.Visible = true
            TabContent.BackgroundTransparency = 1
            CreateTween(TabContent, {BackgroundTransparency = 0}, 0.2)
            
            Window.CurrentTab = Tab
        end)
        
        TabButton.MouseEnter:Connect(function()
            if Window.CurrentTab ~= Tab then
                PlaySound(KrosLib.Settings.Sounds.Hover)
                CreateTween(TabButton, {BackgroundTransparency = 0.4}, 0.1)
            end
        end)
        
        TabButton.MouseLeave:Connect(function()
            if Window.CurrentTab ~= Tab then
                CreateTween(TabButton, {BackgroundTransparency = 0.5}, 0.1)
            end
        end)
        
        Tab.Button = TabButton
        Tab.Content = TabContent
        
        -- Element creation methods
        function Tab:CreateSection(name)
            local Section = Instance.new("Frame")
            Section.Size = UDim2.new(1, -10, 0, 25)
            Section.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            Section.BackgroundTransparency = 0.7
            Section.Parent = TabContent
            AddUICorner(Section, 6)
            
            local SectionLabel = Instance.new("TextLabel")
            SectionLabel.Size = UDim2.new(1, -10, 1, 0)
            SectionLabel.Position = UDim2.new(0, 5, 0, 0)
            SectionLabel.BackgroundTransparency = 1
            SectionLabel.Text = name
            SectionLabel.TextColor3 = KrosLib.Settings.Colors.Text
            SectionLabel.TextXAlignment = Enum.TextXAlignment.Left
            SectionLabel.Font = Enum.Font.GothamBold
            SectionLabel.TextSize = 13
            SectionLabel.Parent = Section
            
            return Section
        end
        
        function Tab:CreateButton(options)
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, -10, 0, 35)
            Button.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            Button.BackgroundTransparency = 0.5
            Button.Text = options.Name or "Button"
            Button.TextColor3 = KrosLib.Settings.Colors.Text
            Button.Font = Enum.Font.Gotham
            Button.TextSize = 13
            Button.Parent = TabContent
            AddGlassEffect(Button)
            
            -- Icon support
            if options.Icon then
                Button.Text = "     " .. Button.Text
                local Icon = Instance.new("ImageLabel")
                Icon.Size = UDim2.new(0, 20, 0, 20)
                Icon.Position = UDim2.new(0, 10, 0.5, -10)
                Icon.BackgroundTransparency = 1
                Icon.Image = options.Icon
                Icon.Parent = Button
            end
            
            Button.MouseButton1Click:Connect(function()
                PlaySound(KrosLib.Settings.Sounds.Click)
                -- Button click animation
                CreateTween(Button, {BackgroundTransparency = 0.3}, 0.1)
                task.wait(0.1)
                CreateTween(Button, {BackgroundTransparency = 0.5}, 0.1)
                
                if options.Callback then
                    options.Callback()
                end
            end)
            
            Button.MouseEnter:Connect(function()
                PlaySound(KrosLib.Settings.Sounds.Hover)
                CreateTween(Button, {BackgroundTransparency = 0.4}, 0.1)
            end)
            
            Button.MouseLeave:Connect(function()
                CreateTween(Button, {BackgroundTransparency = 0.5}, 0.1)
            end)
            
            return Button
        end
        
        function Tab:CreateToggle(options)
            local ToggleFrame = Instance.new("Frame")
            ToggleFrame.Size = UDim2.new(1, -10, 0, 35)
            ToggleFrame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            ToggleFrame.BackgroundTransparency = 0.5
            ToggleFrame.Parent = TabContent
            AddGlassEffect(ToggleFrame)
            
            local ToggleLabel = Instance.new("TextLabel")
            ToggleLabel.Size = UDim2.new(0.7, 0, 1, 0)
            ToggleLabel.Position = UDim2.new(0, 10, 0, 0)
            ToggleLabel.BackgroundTransparency = 1
            ToggleLabel.Text = options.Name or "Toggle"
            ToggleLabel.TextColor3 = KrosLib.Settings.Colors.Text
            ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
            ToggleLabel.Font = Enum.Font.Gotham
            ToggleLabel.TextSize = 13
            ToggleLabel.Parent = ToggleFrame
            
            local ToggleButton = Instance.new("TextButton")
            ToggleButton.Size = UDim2.new(0, 50, 0, 22)
            ToggleButton.Position = UDim2.new(1, -60, 0.5, -11)
            ToggleButton.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
            ToggleButton.Text = ""
            ToggleButton.Parent = ToggleFrame
            AddUICorner(ToggleButton, 11)
            
            local ToggleCircle = Instance.new("Frame")
            ToggleCircle.Size = UDim2.new(0, 18, 0, 18)
            ToggleCircle.Position = UDim2.new(0, 2, 0.5, -9)
            ToggleCircle.BackgroundColor3 = Color3.new(1, 1, 1)
            ToggleCircle.Parent = ToggleButton
            AddUICorner(ToggleCircle, 9)
            
            local toggled = options.CurrentValue or false
            
            local function updateToggle()
                if toggled then
                    PlaySound(KrosLib.Settings.Sounds.ToggleOn)
                    CreateTween(ToggleButton, {BackgroundColor3 = KrosLib.Settings.Colors.Accent}, 0.2)
                    CreateTween(ToggleCircle, {Position = UDim2.new(1, -20, 0.5, -9)}, 0.2)
                else
                    PlaySound(KrosLib.Settings.Sounds.ToggleOff)
                    CreateTween(ToggleButton, {BackgroundColor3 = KrosLib.Settings.Colors.Secondary}, 0.2)
                    CreateTween(ToggleCircle, {Position = UDim2.new(0, 2, 0.5, -9)}, 0.2)
                end
            end
            
            updateToggle()
            
            ToggleButton.MouseButton1Click:Connect(function()
                toggled = not toggled
                updateToggle()
                if options.Callback then
                    options.Callback(toggled)
                end
            end)
            
            local ToggleObj = {
                Frame = ToggleFrame,
                SetValue = function(val)
                    toggled = val
                    updateToggle()
                end,
                GetValue = function()
                    return toggled
                end
            }
            
            if options.Flag then
                Window[options.Flag] = ToggleObj
            end
            
            return ToggleObj
        end
        
        function Tab:CreateSlider(options)
            local SliderFrame = Instance.new("Frame")
            SliderFrame.Size = UDim2.new(1, -10, 0, 50)
            SliderFrame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            SliderFrame.BackgroundTransparency = 0.5
            SliderFrame.Parent = TabContent
            AddGlassEffect(SliderFrame)
            
            local SliderLabel = Instance.new("TextLabel")
            SliderLabel.Size = UDim2.new(0.5, 0, 0, 20)
            SliderLabel.Position = UDim2.new(0, 10, 0, 5)
            SliderLabel.BackgroundTransparency = 1
            SliderLabel.Text = options.Name or "Slider"
            SliderLabel.TextColor3 = KrosLib.Settings.Colors.Text
            SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
            SliderLabel.Font = Enum.Font.Gotham
            SliderLabel.TextSize = 13
            SliderLabel.Parent = SliderFrame
            
            local ValueLabel = Instance.new("TextLabel")
            ValueLabel.Size = UDim2.new(0, 50, 0, 20)
            ValueLabel.Position = UDim2.new(1, -60, 0, 5)
            ValueLabel.BackgroundTransparency = 1
            ValueLabel.Text = tostring(options.CurrentValue or options.Range[1]) .. (options.Suffix or "")
            ValueLabel.TextColor3 = KrosLib.Settings.Colors.Text
            ValueLabel.Font = Enum.Font.Gotham
            ValueLabel.TextSize = 13
            ValueLabel.Parent = SliderFrame
            
            local SliderBar = Instance.new("Frame")
            SliderBar.Size = UDim2.new(1, -20, 0, 4)
            SliderBar.Position = UDim2.new(0, 10, 0, 35)
            SliderBar.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
            SliderBar.Parent = SliderFrame
            AddUICorner(SliderBar, 2)
            
            local SliderFill = Instance.new("Frame")
            SliderFill.Size = UDim2.new(0, 0, 1, 0)
            SliderFill.BackgroundColor3 = KrosLib.Settings.Colors.Accent
            SliderFill.Parent = SliderBar
            AddUICorner(SliderFill, 2)
            
            local SliderButton = Instance.new("TextButton")
            SliderButton.Size = UDim2.new(0, 12, 0, 12)
            SliderButton.Position = UDim2.new(0, -6, 0.5, -6)
            SliderButton.BackgroundColor3 = Color3.new(1, 1, 1)
            SliderButton.Text = ""
            SliderButton.Parent = SliderFill
            AddUICorner(SliderButton, 6)
            
            local value = options.CurrentValue or options.Range[1]
            local min = options.Range[1]
            local max = options.Range[2]
            local increment = options.Increment or 1
            
            local function updateSlider()
                local percent = (value - min) / (max - min)
                CreateTween(SliderFill, {Size = UDim2.new(percent, 0, 1, 0)}, 0.1)
                ValueLabel.Text = tostring(value) .. (options.Suffix or "")
            end
            
            updateSlider()
            
            local dragging = false
            
            SliderButton.MouseButton1Down:Connect(function()
                dragging = true
            end)
            
            SliderBar.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = true
                end
            end)
            
            UserInputService.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = false
                end
            end)
            
            UserInputService.InputChanged:Connect(function(input)
                if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                    local mousePos = UserInputService:GetMouseLocation().X
                    local barPos = SliderBar.AbsolutePosition.X
                    local barSize = SliderBar.AbsoluteSize.X
                    local percent = math.clamp((mousePos - barPos) / barSize, 0, 1)
                    value = math.floor((min + (max - min) * percent) / increment) * increment
                    updateSlider()
                    if options.Callback then
                        options.Callback(value)
                    end
                end
            end)
            
            local SliderObj = {
                Frame = SliderFrame,
                SetValue = function(val)
                    value = val
                    updateSlider()
                end,
                GetValue = function()
                    return value
                end
            }
            
            if options.Flag then
                Window[options.Flag] = SliderObj
            end
            
            return SliderObj
        end
        
        function Tab:CreateInput(options)
            local InputFrame = Instance.new("Frame")
            InputFrame.Size = UDim2.new(1, -10, 0, 55)
            InputFrame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            InputFrame.BackgroundTransparency = 0.5
            InputFrame.Parent = TabContent
            AddGlassEffect(InputFrame)
            
            local InputLabel = Instance.new("TextLabel")
            InputLabel.Size = UDim2.new(1, -10, 0, 20)
            InputLabel.Position = UDim2.new(0, 5, 0, 3)
            InputLabel.BackgroundTransparency = 1
            InputLabel.Text = options.Name or "Input"
            InputLabel.TextColor3 = KrosLib.Settings.Colors.Text
            InputLabel.TextXAlignment = Enum.TextXAlignment.Left
            InputLabel.Font = Enum.Font.Gotham
            InputLabel.TextSize = 12
            InputLabel.Parent = InputFrame
            
            local InputBox = Instance.new("TextBox")
            InputBox.Size = UDim2.new(1, -20, 0, 25)
            InputBox.Position = UDim2.new(0, 10, 0, 25)
            InputBox.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
            InputBox.BackgroundTransparency = 0.5
            InputBox.Text = ""
            InputBox.PlaceholderText = options.PlaceholderText or "Enter text..."
            InputBox.PlaceholderColor3 = KrosLib.Settings.Colors.TextDark
            InputBox.TextColor3 = KrosLib.Settings.Colors.Text
            InputBox.Font = Enum.Font.Gotham
            InputBox.TextSize = 12
            InputBox.ClearTextOnFocus = false
            InputBox.Parent = InputFrame
            AddUICorner(InputBox, 5)
            
            InputBox.FocusLost:Connect(function(enterPressed)
                if options.Callback then
                    options.Callback(InputBox.Text)
                end
            end)
            
            local InputObj = {
                Frame = InputFrame,
                Box = InputBox,
                GetText = function()
                    return InputBox.Text
                end,
                SetText = function(text)
                    InputBox.Text = text
                end
            }
            
            if options.Flag then
                Window[options.Flag] = InputObj
            end
            
            return InputObj
        end
        
        function Tab:CreateDropdown(options)
            local DropdownFrame = Instance.new("Frame")
            DropdownFrame.Size = UDim2.new(1, -10, 0, 55)
            DropdownFrame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            DropdownFrame.BackgroundTransparency = 0.5
            DropdownFrame.ClipsDescendants = true
            DropdownFrame.Parent = TabContent
            AddGlassEffect(DropdownFrame)
            
            local DropdownLabel = Instance.new("TextLabel")
            DropdownLabel.Size = UDim2.new(1, -10, 0, 20)
            DropdownLabel.Position = UDim2.new(0, 5, 0, 3)
            DropdownLabel.BackgroundTransparency = 1
            DropdownLabel.Text = options.Name or "Dropdown"
            DropdownLabel.TextColor3 = KrosLib.Settings.Colors.Text
            DropdownLabel.TextXAlignment = Enum.TextXAlignment.Left
            DropdownLabel.Font = Enum.Font.Gotham
            DropdownLabel.TextSize = 12
            DropdownLabel.Parent = DropdownFrame
            
            local selectedValue = options.CurrentOption or (options.Options and options.Options[1]) or "Select"
            
            local DropdownButton = Instance.new("TextButton")
            DropdownButton.Size = UDim2.new(1, -20, 0, 25)
            DropdownButton.Position = UDim2.new(0, 10, 0, 25)
            DropdownButton.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
            DropdownButton.BackgroundTransparency = 0.5
            DropdownButton.Text = "  " .. selectedValue
            DropdownButton.TextColor3 = KrosLib.Settings.Colors.Text
            DropdownButton.TextXAlignment = Enum.TextXAlignment.Left
            DropdownButton.Font = Enum.Font.Gotham
            DropdownButton.TextSize = 12
            DropdownButton.Parent = DropdownFrame
            AddUICorner(DropdownButton, 5)
            
            local DropdownIcon = Instance.new("TextLabel")
            DropdownIcon.Size = UDim2.new(0, 20, 0, 20)
            DropdownIcon.Position = UDim2.new(1, -25, 0.5, -10)
            DropdownIcon.BackgroundTransparency = 1
            DropdownIcon.Text = "â–¼"
            DropdownIcon.TextColor3 = KrosLib.Settings.Colors.TextDark
            DropdownIcon.Font = Enum.Font.Gotham
            DropdownIcon.TextSize = 10
            DropdownIcon.Parent = DropdownButton
            
            local DropdownList = Instance.new("ScrollingFrame")
            DropdownList.Size = UDim2.new(1, -20, 0, 0)
            DropdownList.Position = UDim2.new(0, 10, 0, 55)
            DropdownList.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
            DropdownList.BackgroundTransparency = 0.3
            DropdownList.BorderSizePixel = 0
            DropdownList.ScrollBarThickness = 3
            DropdownList.ScrollBarImageColor3 = KrosLib.Settings.Colors.Accent
            DropdownList.ScrollBarImageTransparency = 0.5
            DropdownList.CanvasSize = UDim2.new(0, 0, 0, 0)
            DropdownList.AutomaticCanvasSize = Enum.AutomaticSize.Y
            DropdownList.Visible = false
            DropdownList.Parent = DropdownFrame
            AddUICorner(DropdownList, 5)
            
            local ListLayout = Instance.new("UIListLayout")
            ListLayout.Padding = UDim.new(0, 2)
            ListLayout.Parent = DropdownList
            
            local expanded = false
            
            local function updateDropdown()
                if expanded then
                    PlaySound(KrosLib.Settings.Sounds.Open)
                    local itemCount = math.min(#options.Options, 5)
                    DropdownList.Visible = true
                    DropdownList.Size = UDim2.new(1, -20, 0, itemCount * 28)
                    CreateTween(DropdownFrame, {Size = UDim2.new(1, -10, 0, 60 + itemCount * 28)}, 0.2)
                    CreateTween(DropdownIcon, {Rotation = 180}, 0.2)
                else
                    PlaySound(KrosLib.Settings.Sounds.Close)
                    CreateTween(DropdownFrame, {Size = UDim2.new(1, -10, 0, 55)}, 0.2)
                    CreateTween(DropdownIcon, {Rotation = 0}, 0.2)
                    task.wait(0.2)
                    DropdownList.Visible = false
                end
            end
            
            DropdownButton.MouseButton1Click:Connect(function()
                expanded = not expanded
                updateDropdown()
            end)
            
            local function createOptions()
                for _, child in pairs(DropdownList:GetChildren()) do
                    if child:IsA("TextButton") then
                        child:Destroy()
                    end
                end
                
                for _, option in ipairs(options.Options or {}) do
                    local OptionButton = Instance.new("TextButton")
                    OptionButton.Size = UDim2.new(1, 0, 0, 26)
                    OptionButton.BackgroundColor3 = KrosLib.Settings.Colors.Primary
                    OptionButton.BackgroundTransparency = 0.8
                    OptionButton.Text = "  " .. option
                    OptionButton.TextColor3 = KrosLib.Settings.Colors.Text
                    OptionButton.TextXAlignment = Enum.TextXAlignment.Left
                    OptionButton.Font = Enum.Font.Gotham
                    OptionButton.TextSize = 12
                    OptionButton.Parent = DropdownList
                    AddUICorner(OptionButton, 4)
                    
                    OptionButton.MouseEnter:Connect(function()
                        CreateTween(OptionButton, {BackgroundTransparency = 0.5}, 0.1)
                    end)
                    
                    OptionButton.MouseLeave:Connect(function()
                        CreateTween(OptionButton, {BackgroundTransparency = 0.8}, 0.1)
                    end)
                    
                    OptionButton.MouseButton1Click:Connect(function()
                        PlaySound(KrosLib.Settings.Sounds.Click)
                        selectedValue = option
                        DropdownButton.Text = "  " .. option
                        expanded = false
                        updateDropdown()
                        if options.Callback then
                            options.Callback(option)
                        end
                    end)
                end
            end
            
            createOptions()
            
            local DropdownObj = {
                Frame = DropdownFrame,
                GetValue = function()
                    return selectedValue
                end,
                SetValue = function(value)
                    selectedValue = value
                    DropdownButton.Text = "  " .. value
                end,
                Refresh = function(newOptions)
                    options.Options = newOptions
                    createOptions()
                end
            }
            
            if options.Flag then
                Window[options.Flag] = DropdownObj
            end
            
            return DropdownObj
        end
        
        function Tab:CreateLabel(text)
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, -10, 0, 20)
            Label.BackgroundTransparency = 1
            Label.Text = text
            Label.TextColor3 = KrosLib.Settings.Colors.Text
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Font = Enum.Font.Gotham
            Label.TextSize = 13
            Label.Parent = TabContent
            
            return {
                Set = function(newText)
                    Label.Text = newText
                end,
                GetText = function()
                    return Label.Text
                end
            }
        end
        
        function Tab:CreateParagraph(options)
            local ParagraphFrame = Instance.new("Frame")
            ParagraphFrame.Size = UDim2.new(1, -10, 0, 60)
            ParagraphFrame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            ParagraphFrame.BackgroundTransparency = 0.5
            ParagraphFrame.Parent = TabContent
            AddGlassEffect(ParagraphFrame)
            
            local Title = Instance.new("TextLabel")
            Title.Size = UDim2.new(1, -10, 0, 20)
            Title.Position = UDim2.new(0, 5, 0, 5)
            Title.BackgroundTransparency = 1
            Title.Text = options.Title or "Paragraph"
            Title.TextColor3 = KrosLib.Settings.Colors.Text
            Title.TextXAlignment = Enum.TextXAlignment.Left
            Title.Font = Enum.Font.GothamBold
            Title.TextSize = 13
            Title.Parent = ParagraphFrame
            
            local Content = Instance.new("TextLabel")
            Content.Size = UDim2.new(1, -10, 0, 30)
            Content.Position = UDim2.new(0, 5, 0, 25)
            Content.BackgroundTransparency = 1
            Content.Text = options.Content or ""
            Content.TextColor3 = KrosLib.Settings.Colors.TextDark
            Content.TextXAlignment = Enum.TextXAlignment.Left
            Content.TextYAlignment = Enum.TextYAlignment.Top
            Content.Font = Enum.Font.Gotham
            Content.TextSize = 11
            Content.TextWrapped = true
            Content.Parent = ParagraphFrame
            
            -- Auto resize
            task.spawn(function()
                task.wait()
                local textBounds = Content.TextBounds
                if textBounds then
                    local newHeight = math.max(60, textBounds.Y + 35)
                    ParagraphFrame.Size = UDim2.new(1, -10, 0, newHeight)
                    Content.Size = UDim2.new(1, -10, 0, newHeight - 30)
                end
            end)
            
            return ParagraphFrame
        end
        
        function Tab:CreateKeybind(options)
            local KeybindFrame = Instance.new("Frame")
            KeybindFrame.Size = UDim2.new(1, -10, 0, 35)
            KeybindFrame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            KeybindFrame.BackgroundTransparency = 0.5
            KeybindFrame.Parent = TabContent
            AddGlassEffect(KeybindFrame)
            
            local KeybindLabel = Instance.new("TextLabel")
            KeybindLabel.Size = UDim2.new(0.5, 0, 1, 0)
            KeybindLabel.Position = UDim2.new(0, 10, 0, 0)
            KeybindLabel.BackgroundTransparency = 1
            KeybindLabel.Text = options.Name or "Keybind"
            KeybindLabel.TextColor3 = KrosLib.Settings.Colors.Text
            KeybindLabel.TextXAlignment = Enum.TextXAlignment.Left
            KeybindLabel.Font = Enum.Font.Gotham
            KeybindLabel.TextSize = 13
            KeybindLabel.Parent = KeybindFrame
            
            local KeybindButton = Instance.new("TextButton")
            KeybindButton.Size = UDim2.new(0, 80, 0, 25)
            KeybindButton.Position = UDim2.new(1, -90, 0.5, -12)
            KeybindButton.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
            KeybindButton.Text = options.CurrentKeybind or "None"
            KeybindButton.TextColor3 = KrosLib.Settings.Colors.Text
            KeybindButton.Font = Enum.Font.Gotham
            KeybindButton.TextSize = 12
            KeybindButton.Parent = KeybindFrame
            AddUICorner(KeybindButton, 5)
            
            local binding = false
            local currentKey = options.CurrentKeybind and Enum.KeyCode[options.CurrentKeybind] or nil
            
            KeybindButton.MouseButton1Click:Connect(function()
                binding = true
                KeybindButton.Text = "..."
                CreateTween(KeybindButton, {BackgroundColor3 = KrosLib.Settings.Colors.Accent}, 0.2)
            end)
            
            UserInputService.InputBegan:Connect(function(input, processed)
                if binding then
                    if input.KeyCode ~= Enum.KeyCode.Unknown then
                        currentKey = input.KeyCode
                        KeybindButton.Text = currentKey.Name
                        binding = false
                        CreateTween(KeybindButton, {BackgroundColor3 = KrosLib.Settings.Colors.Secondary}, 0.2)
                        if options.Callback then
                            options.Callback(currentKey.Name)
                        end
                    end
                elseif not processed and currentKey and input.KeyCode == currentKey then
                    if options.Callback then
                        options.Callback(currentKey.Name)
                    end
                end
            end)
            
            local KeybindObj = {
                Frame = KeybindFrame,
                GetKey = function()
                    return currentKey
                end,
                SetKey = function(key)
                    currentKey = typeof(key) == "EnumItem" and key or Enum.KeyCode[key]
                    KeybindButton.Text = currentKey and currentKey.Name or "None"
                end
            }
            
            if options.Flag then
                Window[options.Flag] = KeybindObj
            end
            
            return KeybindObj
        end
        
        function Tab:CreateTable(options)
            local TableFrame = Instance.new("Frame")
            TableFrame.Size = UDim2.new(1, -10, 0, 200)
            TableFrame.BackgroundColor3 = KrosLib.Settings.Colors.Primary
            TableFrame.BackgroundTransparency = 0.5
            TableFrame.Parent = TabContent
            AddGlassEffect(TableFrame)
            
            local TableTitle = Instance.new("TextLabel")
            TableTitle.Size = UDim2.new(1, 0, 0, 25)
            TableTitle.BackgroundTransparency = 1
            TableTitle.Text = options.Name or "Table"
            TableTitle.TextColor3 = KrosLib.Settings.Colors.Text
            TableTitle.Font = Enum.Font.GothamBold
            TableTitle.TextSize = 13
            TableTitle.Parent = TableFrame
            
            local TableContent = Instance.new("ScrollingFrame")
            TableContent.Size = UDim2.new(1, -10, 1, -30)
            TableContent.Position = UDim2.new(0, 5, 0, 25)
            TableContent.BackgroundTransparency = 1
            TableContent.ScrollBarThickness = 3
            TableContent.ScrollBarImageColor3 = KrosLib.Settings.Colors.Accent
            TableContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
            TableContent.Parent = TableFrame
            
            local TableLayout = Instance.new("UIListLayout")
            TableLayout.Parent = TableContent
            
            -- Create header
            if options.Headers then
                local HeaderFrame = Instance.new("Frame")
                HeaderFrame.Size = UDim2.new(1, 0, 0, 25)
                HeaderFrame.BackgroundColor3 = KrosLib.Settings.Colors.Secondary
                HeaderFrame.BackgroundTransparency = 0.5
                HeaderFrame.Parent = TableContent
                AddUICorner(HeaderFrame, 4)
                
                local HeaderLayout = Instance.new("UIListLayout")
                HeaderLayout.FillDirection = Enum.FillDirection.Horizontal
                HeaderLayout.Parent = HeaderFrame
                
                for _, header in ipairs(options.Headers) do
                    local HeaderLabel = Instance.new("TextLabel")
                    HeaderLabel.Size = UDim2.new(1/#options.Headers, 0, 1, 0)
                    HeaderLabel.BackgroundTransparency = 1
                    HeaderLabel.Text = header
                    HeaderLabel.TextColor3 = KrosLib.Settings.Colors.Text
                    HeaderLabel.Font = Enum.Font.GothamBold
                    HeaderLabel.TextSize = 11
                    HeaderLabel.Parent = HeaderFrame
                end
            end
            
            -- Add rows
            local function addRow(data)
                local RowFrame = Instance.new("Frame")
                RowFrame.Size = UDim2.new(1, 0, 0, 20)
                RowFrame.BackgroundTransparency = 1
                RowFrame.Parent = TableContent
                
                local RowLayout = Instance.new("UIListLayout")
                RowLayout.FillDirection = Enum.FillDirection.Horizontal
                RowLayout.Parent = RowFrame
                
                for _, value in ipairs(data) do
                    local CellLabel = Instance.new("TextLabel")
                    CellLabel.Size = UDim2.new(1/#data, 0, 1, 0)
                    CellLabel.BackgroundTransparency = 1
                    CellLabel.Text = tostring(value)
                    CellLabel.TextColor3 = KrosLib.Settings.Colors.TextDark
                    CellLabel.Font = Enum.Font.Gotham
                    CellLabel.TextSize = 10
                    CellLabel.Parent = RowFrame
                end
            end
            
            if options.Rows then
                for _, row in ipairs(options.Rows) do
                    addRow(row)
                end
            end
            
            return {
                AddRow = addRow,
                Clear = function()
                    for _, child in pairs(TableContent:GetChildren()) do
                        if child:IsA("Frame") and child ~= TableContent:FindFirstChildWhichIsA("Frame") then
                            child:Destroy()
                        end
                    end
                end
            }
        end
        
        table.insert(Window.Tabs, Tab)
        
        -- Auto select first tab
        if #Window.Tabs == 1 then
            TabButton.MouseButton1Click:Fire()
        end
        
        return Tab
    end
    
    function Window:Destroy()
        ScreenGui:Destroy()
    end
    
    Window.Main = Main
    Window.ScreenGui = ScreenGui
    return Window
end

-- Additional methods
function KrosLib:SetDefaultIcon(icon)
    KrosLib.Settings.DefaultIcon = icon
end

function KrosLib:SetAvatarVisible(visible)
    KrosLib.Settings.AvatarVisible = visible
end

function KrosLib:SetReopenKey(key)
    KrosLib.Settings.ReopenKey = key
end

function KrosLib:SetSounds(sounds)
    KrosLib.Settings.Sounds = sounds
end

function KrosLib:SetNotificationSounds(sounds)
    KrosLib.Settings.NotificationSounds = sounds
end

function KrosLib:SetKeySystem(config)
    KrosLib.Settings.KeySystem = config
end

function KrosLib:Unload()
    if NotificationHolder then
        NotificationHolder:Destroy()
    end
    for _, gui in pairs(CoreGui:GetChildren()) do
        if gui.Name == "KrosLib" or gui.Name == "KrosLibNotifications" then
            gui:Destroy()
        end
    end
end

return KrosLib
